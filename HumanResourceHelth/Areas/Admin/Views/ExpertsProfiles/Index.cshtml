@using System.Threading
@using HumanResourceHelth.Model.Resources
@model IEnumerable<HumanResourceHelth.Model.ExpertsProfile>

@{
    ViewBag.Title = "Index";
    Session["Backto"] = "IndexExpert";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}
@{
    var dir = "ltr";
    var alignclass = "pull-right";
    int isArabic = 0;
    var langDir = "pull-left";
}
@if (Thread.CurrentThread.CurrentCulture.TextInfo.IsRightToLeft)
{
    dir = "rtl";
    alignclass = "pull-left";
    isArabic = 1;
    langDir = "pull-right";
}

<link href="~/assets/TrCss/SomePart.css" rel="stylesheet" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="~/assets/TrCss/slider.css" rel="stylesheet" />
<style>
    .btn-hr {
        color: #FFFFFF;
        background-color: #e3a32a;
        border-color: #ffc107;
        font-weight: bold;
    }

        .btn-hr:hover {
            color: #3f3737;
            background-color: ##ff6a00;
            border-color: #31a6e0;
            font-weight: bold;
        }
</style>

<section class="jumbotron text-center">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-12 text-center">
                <img src="~/assets/TrCss/img/logo.png" height="100" />
                <h1>
                    @HumanResourceHelth.Model.Resources.ExpertsProfiles.ExpertsProfiles.Experts
                </h1>
            </div>
            <div class="col-md-6  col-sm-12 text-center">
                @*<iframe class="responsive-iframe"
                    src="https://www.youtube.com/embed/tgbNymZ7vqY"
                    frameborder="1" allow="autoplay; fullscreen" allowfullscreen></iframe>*@

                @*<iframe src="https://player.vimeo.com/video/204092330?title=0&byline=0&portrait=0"
                    style="width:640px; height:387px; margin-bottom:-100px; " frameborder="1" allow="autoplay; fullscreen" allowfullscreen></iframe>*@
                @*style="  background-image: url('../../app-assets/computer.jpg'); background-repeat: no-repeat; background-position: center center"*@
                <div style="
        background-size: contain, cover;
        background-image: url('../../assets/TrCss/img/screen.png');
        background-repeat: no-repeat;
        background-position: center center;
        margin-bottom: -150px;
        padding: 60px !important;">
                    <div class="embed-responsive embed-responsive-16by9 mr-lg-5 mb-lg-5 mr-sm-0 mb-sm-1 ">
                        <iframe class="embed-responsive-item" src="" allowfullscreen></iframe>
                        @*<iframe class="embed-responsive-item" src="https://player.vimeo.com/video/204092330?title=0&byline=0&portrait=0" allowfullscreen></iframe>*@
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<div class="container sm-mt-25px margin-top-59px mt-sm-5 mt-md-5 sm-mt-45px">
    <div class="pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto mt-sm-auto text-center">
        @*<h1 class="display-4">Pricing</h1>*@
        <p class="lead">
            @*@ViewBag.LearnOnlineText*@
            @*@HumanResourceHelth.Model.Resources.AppResource.wonderful.ToString()*@
        </p>
    </div>
</div>

<!-- END REVOLUTION SLIDER -->

<div class="container p-t-40">
    <center>
        <h1>
            @HumanResourceHelth.Model.Resources.ExpertsProfiles.ExpertsProfiles.Experts

        </h1>
        <br />
    </center>

    <div class="row">
        <div class="col-md-12">

            @foreach (var item in Model)
            {
                <div class="card col-lg-4 @langDir text-center">
                    <a href="#" data-toggle="modal" data-target="#expertModal" onclick="SetData(@item.Id);">
                        <img class="card-img-top expert-avatar" width="196" height="196" src="~/ExpertImages/@item.ImageUrl" alt="Card image cap">
                    </a>
                    <div class="card-body text-center">
                        @if (System.Threading.Thread.CurrentThread.CurrentCulture.TextInfo.IsRightToLeft)
                        {
                            <h5 class="card-title">@item.NameAr</h5>
                            <div class="card-text">@item.DescriptionAr</div>
                        }
                        else
                        { <h5 class="card-title">@item.NameEn</h5>
                        <div class="card-text">@item.DescriptionEn</div>}
                        <div class="card-text"><a href="#" data-toggle="modal" data-target="#expertModal" onclick="SetData(@item.Id);" class="btn btn-primary">@HumanResourceHelth.Model.Resources.ExpertsProfiles.ExpertsProfiles.ViewExpertProfile</a></div>
                    </div>
                </div>

            }


        </div>
    </div>


    <center class="m-lg-5">
        <a class="btn btn-hr btn-lg" href="@Url.Action("Create")">
            @AppResource.Create
        </a>
    </center>
</div>
<!-- Modal -->
<div class="modal fade" id="expertModal" tabindex="-1" aria-labelledby="expertModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title text-capitalize" id="expertModalLabel">Modal title</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">
                        &times;
                    </span>
                </button>
            </div>
            <div class="modal-body" style="max-width:100%;" dir="@dir">
                <!-- ========================= -->

                <div class="row text-center p-l-30" style="max-width:100%;" >
                    <div class="table-responsive">
                        <table class="table table-bordered">
                            <tr>
                                <td colspan="2">
                                    <div class="card border-0 shadow">
                                        <img id="expertImage" src="" class="expert-avatar" alt="..." width="196" height="196">
                                        <div class="card-body p-1-9 p-xl-3">
                                            <div class="mb-4">
                                                <h4 class="h4 mb-0 text-capitalize text-center" id="ExpertName"></h4>

                                            </div>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th><h3>@HumanResourceHelth.Model.Resources.ExpertsProfiles.ExpertsProfiles.Summary</h3></th>
                                <td><div id="ExpertSummary" class="pt-3 h4 text-capitalize"></div></td>
                            </tr>
                            <tr>
                                <th><h3>@HumanResourceHelth.Model.Resources.ExpertsProfiles.ExpertsProfiles.Education</h3></th>
                                <td><div id="ExpertEducation" class="pt-3 h4 text-capitalize"></div></td>
                            </tr>
                            <tr>
                                <th><h3>@HumanResourceHelth.Model.Resources.ExpertsProfiles.ExpertsProfiles.Experiences</h3></th>
                                <td><div id="ExpertExperiences" class="pt-3 h4 text-capitalize"></div></td>
                            </tr>
                            <tr>
                                <th><h3>@HumanResourceHelth.Model.Resources.ExpertsProfiles.ExpertsProfiles.Certificates</h3></th>
                                <td><div id="ExpertCertificates" class="pt-3 h4 text-capitalize"></div></td>
                            </tr>
                            <tr>
                                <th><h3>@HumanResourceHelth.Model.Resources.ExpertsProfiles.ExpertsProfiles.Languages</h3></th>
                                <td><div id="ExpertLanguages" class="pt-3 h4 text-capitalize"></div></td>
                            </tr>
                        </table>
                        
                    </div>
                   
                </div>



                <!-- ========================= -->
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">@Resources.General.Cancel</button>
                <a id="expertEditLink" href="~/Admin/ExpertsProfiles/Edit/" class="btn btn-primary">@Resources.General.Edit</a>
                <a id="expertDeleteLink" href="~/Admin/ExpertsProfiles/Delete/" class="btn btn-danger">@Resources.General.Delete</a>
            </div>
        </div>
    </div>
</div>
<script>
    function SetData(id) {
        var formData = new FormData();

        var href = document.getElementById("expertEditLink").href;
        var deletehref = document.getElementById("expertDeleteLink").href;

        formData.append("id", id);
        $.ajax({
                    type: 'post',
                    dataType: 'json',
            cache: false,
            contentType: false,
            processData: false,
            url: '@Url.Action("GetExpert", "ExpertsProfiles")',
            data: formData,
            success: function (result) {
                var src = "/ExpertImages/" + result.Content.ImageUrl;
                href = href + id
                deletehref = deletehref + id
                document.getElementById("expertEditLink").href = href;
                document.getElementById("expertDeleteLink").href = deletehref;

                document.getElementById("expertImage").src = src;
                if (Boolean( @isArabic)) {
                    document.getElementById('expertModalLabel').innerHTML = result.Content.NameAr;
                    document.getElementById('ExpertName').innerHTML = result.Content.NameAr;
                    document.getElementById('ExpertSummary').innerHTML = result.Content.SummaryAr;
                    document.getElementById('ExpertEducation').innerHTML = result.Content.EducationAr;
                    document.getElementById('ExpertExperiences').innerHTML = result.Content.ExperiencesAr;
                    document.getElementById('ExpertCertificates').innerHTML = result.Content.CertificatesAr;
                    document.getElementById('ExpertLanguages').innerHTML = result.Content.LanguagesAr;
                }
                else {
                    document.getElementById('expertModalLabel').innerHTML = result.Content.NameEn;
                    document.getElementById('ExpertName').innerHTML = result.Content.NameEn;
                    document.getElementById('ExpertSummary').innerHTML = result.Content.SummaryEn;
                    document.getElementById('ExpertEducation').innerHTML = result.Content.EducationEn;
                    document.getElementById('ExpertExperiences').innerHTML = result.Content.ExperiencesEN;
                    document.getElementById('ExpertCertificates').innerHTML = result.Content.CertificatesEN;
                    document.getElementById('ExpertLanguages').innerHTML = result.Content.LanguagesEn;
                }
            },
            error: function (err) {
                console.log(err);
                console.error
            }
                });
    }
</script>
<!--<div style="margin-top:20px">-->
@*@Html.Partial("GetTrainers");*@
<!--</div>

<div class="container">
    <div class="panel panel-info" dir="@dir">
        <div class="panel-heading">

            <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                <h1 class="h2">@AppResource.Experts</h1>
                <div class="btn-toolbar mb-2 mb-md-0">
                    <div class="btn-group mr-2 @alignclass">
                        <a class="btn btn-sm btn-warning" href="@Url.Action("Create")">

                            <i class="fa fa-plus"></i>
                        </a>
                    </div>

                </div>
            </div>


        </div>
        <div class="panel-body">

            <div class="table-responsive">

                <table class="table table-condensed table-hover">
                    <thead>
                        <tr class="h4">

                            <th class="text-center">
                                @HumanResourceHelth.Model.Resources.ExpertsProfiles.ExpertsProfiles.Name
                            </th>

                            <th class="text-center">
                                @HumanResourceHelth.Model.Resources.ExpertsProfiles.ExpertsProfiles.Education
                            </th>

                            <th class="text-center">
                                @HumanResourceHelth.Model.Resources.ExpertsProfiles.ExpertsProfiles.Languages
                            </th>
                            <th class="text-center">
                                @HumanResourceHelth.Model.Resources.ExpertsProfiles.ExpertsProfiles.ImageUrl
                            </th>
                            <th colspan="3"></th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model)
                        {
                            <tr>
                                <td>
                                    @Html.DisplayFor(modelItem => item.ImageUrl)
                                </td>

                                <td>
                                    @Html.DisplayFor(modelItem => item.NameEn)
                                </td>

                                <td>
                                    @Html.DisplayFor(modelItem => item.EducationEn)
                                </td>

                                <td>
                                    @Html.DisplayFor(modelItem => item.LanguagesEn)
                                </td>
                                <td>
                                    @Html.ActionLink("Edit", "Edit", new { id = item.Id })
                                </td>
                                <td>
                                    @Html.ActionLink("Details", "Details", new { id = item.Id })
                                </td>
                                <td>
                                    @Html.ActionLink("Delete", "Delete", new { id = item.Id })
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>-->
