@using HumanResourceHelth.Web.Models
@using HumanResourceHelth.Model
@model RegisterViewModels
<!-- Page title --->
@{
    bool isArabic = System.Threading.Thread.CurrentThread.CurrentCulture.TextInfo.IsRightToLeft;
    string dir = isArabic ? "rtl" : "ltr";
    string Text_Align = isArabic ? "text-right" : "";
    string auto_margin = isArabic ? "mr-3" : "ml-3";
    Session["Backto"] = "UserProfile";
    string countryName = "";
    string countryCode = "";
    var labAlign = isArabic ? "pull-right" : "pull-left";
    var selected = "";
}

<div id="page-title" class="text-grey background-overlay " style="background-image: url('assets/img/hrplugin.jpg');background-size: cover;background-repeat: no-repeat;" dir="@dir">
    <div>
        <div class="container padding-tb-10px z-index-2 position-relative">
            <div class="row">
                <div class="col-xl-2 margin-top-55px">
                    @*<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 99 98">
                        <defs>
                            <style>
                                .cls-1 {
                                    fill: #fefefe;
                                    stroke: #fefefe;
                                    stroke-miterlimit: 10;
                                    stroke-width: 0.27px;
                                }

                                .cls-2 {
                                    fill: #e4a229;
                                }

                                .cls-3 {
                                    fill: #1f1c1d;
                                }
                            </style>
                        </defs>
                        <title>icon-plugin</title>
                        <path class="cls-1" d="M90,89.5H84.45V79.72h-2.8V89.5H64.91V79.72H62.12V89.5h-5.6V79.69a4.13,4.13,0,0,1,3-4l9-2.7a5.8,5.8,0,0,0,9.58,0l9,2.7a4.11,4.11,0,0,1,3,4Z" />
                        <path class="cls-1" d="M73,70h.2a9.74,9.74,0,0,0,2.83-.44V71a3.55,3.55,0,0,1-2.8,1.8A3.65,3.65,0,0,1,70.47,71V69.59A9.06,9.06,0,0,0,73,70Z" />
                        <path class="cls-1" d="M66.27,57.32a13.21,13.21,0,0,0,4.3-1.23l2.22.75a11.53,11.53,0,0,0,3.41.55h.41a10.2,10.2,0,0,0,3.64-.65v3.44a7,7,0,0,1-7,7H73a6.74,6.74,0,0,1-4.78-2,6.82,6.82,0,0,1-2-4.78Z" />
                        <path class="cls-1" d="M36.34,68.43A8,8,0,0,1,31.6,70h-.24V68.2a10,10,0,0,0,2.87-3.11,16.1,16.1,0,0,0,2.11,3.34Z" />
                        <path class="cls-1" d="M42.54,79.69V89.5H37V79.72H34.16V89.5H17.42V79.72h-2.8V89.5H9V79.69a4.12,4.12,0,0,1,3-4L21,73a6,6,0,0,0,4.77,2.53A6.08,6.08,0,0,0,30.58,73l9,2.7a4.11,4.11,0,0,1,3,4Z" />
                        <path class="cls-1" d="M17.38,65.13a9.43,9.43,0,0,0,2.83,3.07V70H20a8,8,0,0,1-4.74-1.54,16.68,16.68,0,0,0,2.15-3.3Z" />
                        <path class="cls-1" d="M25.77,67.17a7,7,0,0,1-7-7V58.72a13.65,13.65,0,0,0,4.3-1.23,28.56,28.56,0,0,0,8.49,1.3h1.16v1.39a7,7,0,0,1-7,7Z" />
                        <path class="cls-1" d="M28.57,71a3.56,3.56,0,0,1-2.8,1.8A3.67,3.67,0,0,1,23,71v-1.4a10.89,10.89,0,0,0,2.8.41,10.64,10.64,0,0,0,2.8-.41Z" />
                        <path class="cls-1" d="M25.29,49a6.48,6.48,0,0,1,4.61,1.91l.64.65.21.1a3.58,3.58,0,0,1,2,3.27V56H31.6a25.58,25.58,0,0,1-8.18-1.33l-.55-.17-.78.41a11.38,11.38,0,0,1-3.28,1v-.38A6.5,6.5,0,0,1,25.29,49Z" />
                        <path class="cls-1" d="M35.76,35.19l9-2.73A6,6,0,0,0,49.53,35a6.08,6.08,0,0,0,4.78-2.56l9,2.73a4.13,4.13,0,0,1,3,4V49H60.72V39.21h-2.8V49H41.15V39.21h-2.8V49H32.76V39.18a4.12,4.12,0,0,1,3-4Z" />
                        <path class="cls-1" d="M49.53,29.46a9.7,9.7,0,0,0,2.8-.44v1.43a3.56,3.56,0,0,1-2.8,1.78,3.49,3.49,0,0,1-2.79-1.78v-1.4a10.56,10.56,0,0,0,2.79.41Z" />
                        <path class="cls-1" d="M42.54,19.68v-2.8h3.62a5.85,5.85,0,0,0,3.37-1,5.9,5.9,0,0,0,3.38,1h3.61v2.8a7,7,0,0,1-14,0Z" />
                        <path class="cls-1" d="M49.06,8.5a6.49,6.49,0,0,1,4.6,1.9l.61.65.21.1a3.54,3.54,0,0,1,2,2.94H52.91a3.3,3.3,0,0,1-2.39-1l-1-1-1,1a3.35,3.35,0,0,1-2.39,1H42.65A6.49,6.49,0,0,1,49.06,8.5Z" />
                        <path class="cls-1" d="M77.46,50.19a19.19,19.19,0,0,0,4.6,2.29,8.14,8.14,0,0,1-5.45,2.11H76.2a7.8,7.8,0,0,1-2.53-.41l-3.3-1.09-.82.41a10.77,10.77,0,0,1-3,1,7.14,7.14,0,0,1,7-5.46,7.26,7.26,0,0,1,4,1.19Z" />
                        <path class="cls-2" d="M35.32,33.83l10-3V26.91a8.28,8.28,0,0,1-4.2-7.23V16.54A33.55,33.55,0,0,0,16,49a33.93,33.93,0,0,0,1.4,9.58V55.51a7.91,7.91,0,0,1,13.5-5.59l.48.48V39.18a5.58,5.58,0,0,1,4-5.35Z" />
                        <path class="cls-2" d="M64.84,60.42V56h0a8.84,8.84,0,0,1,2.25-5.59H31.33a5.09,5.09,0,0,1,2.79,4.53v3.51a14.3,14.3,0,0,0,4.2,10.13,9.69,9.69,0,0,1-6.75,2.8H29.93l10,3a5.64,5.64,0,0,1,4,5.36v2.38a33.12,33.12,0,0,0,5.59.45A34.1,34.1,0,0,0,55.06,82V79.69a5.63,5.63,0,0,1,4-5.36l10-3V67.55a8.19,8.19,0,0,1-4.2-7.13Z" />
                        <path class="cls-2" d="M57.85,16.54v3.14a8.29,8.29,0,0,1-4.19,7.23v3.95l10,3a5.58,5.58,0,0,1,4,5.35V49.85a8.51,8.51,0,0,1,5.79-2.25A8.65,8.65,0,0,1,78.17,49a17.93,17.93,0,0,0,4.37,2.15l.37.14C83,50.53,83,49.78,83,49A33.55,33.55,0,0,0,57.85,16.54Z" />
                        <path class="cls-3" d="M77.42,67.51l.11-.17s-.07,0-.11.07Z" />
                        <path class="cls-2" d="M77.42,71.37S76,74.16,73.23,74.16,69,71.37,69,71.37l2.79,6.95L69,90.9h8.38L74.63,78.32Z" />
                        <path class="cls-2" d="M29.93,71.37s-1.4,2.79-4.19,2.79-4.2-2.79-4.2-2.79l2.8,6.95L21.54,90.9h8.39l-2.8-12.58Z" />
                        <path class="cls-2" d="M53.66,30.86s-1.36,2.76-4.16,2.76-4.19-2.76-4.19-2.76l2.79,7L45.31,50.4h8.35L50.9,37.82Z" />
                        <path class="cls-3" d="M87.82,73l-9-2.69V68.16a9.71,9.71,0,0,0,4.2-8V55.27a11.27,11.27,0,0,0,2.55-2.69l1-1.53L83,49.85a15.83,15.83,0,0,1-4-2A9.94,9.94,0,0,0,69,47.23v-8a7,7,0,0,0-5-6.68l-9-2.7V27.69a9.72,9.72,0,0,0,4.19-8V14.43a6.37,6.37,0,0,0-3.34-5.66l-.34-.34A9.1,9.1,0,0,0,49,5.7,9.3,9.3,0,0,0,39.71,15v4.67a9.8,9.8,0,0,0,4.2,8V29.8l-9,2.7a6.94,6.94,0,0,0-5,6.68v8.29a9.22,9.22,0,0,0-4.67-1.27A9.32,9.32,0,0,0,16,55.51v3.28a12.12,12.12,0,0,1-3.78,8.79l-1,1,1,1a11,11,0,0,0,3.2,2.18L11.18,73a6.91,6.91,0,0,0-5,6.69V92.3H45.31V79.69a7,7,0,0,0-5-6.69l-4.2-1.26a11.06,11.06,0,0,0,3.18-2.18l1-1-1-1a12.79,12.79,0,0,1-3.79-9.14V54.93a6.52,6.52,0,0,0-.82-3.13H64.47a9.89,9.89,0,0,0-1,4.39v4.23a9.44,9.44,0,0,0,2.8,6.75,13.89,13.89,0,0,0,1.4,1.16v2l-9,2.69a7,7,0,0,0-5,6.69V92.3H92.8V79.69a7,7,0,0,0-5-6.69ZM77.42,50.19A19.18,19.18,0,0,0,82,52.48a8,8,0,0,1-5.42,2.11h-.41a7.78,7.78,0,0,1-2.52-.41l-3.31-1.09-.82.41a10.9,10.9,0,0,1-3.06,1,7.2,7.2,0,0,1,7-5.46,7.31,7.31,0,0,1,4,1.19ZM49,8.5a6.42,6.42,0,0,1,4.57,1.9l.65.65.2.1a3.52,3.52,0,0,1,2,2.94H52.84a3.2,3.2,0,0,1-2.35-1l-1-1-1,1a3.35,3.35,0,0,1-2.39,1H42.58A6.56,6.56,0,0,1,49,8.5ZM42.51,19.68v-2.8h3.61a6,6,0,0,0,3.38-1,5.87,5.87,0,0,0,3.34,1h3.62v2.8a7,7,0,1,1-14,0Zm7,9.78A9.75,9.75,0,0,0,52.3,29v1.43a3.63,3.63,0,0,1-2.8,1.78,3.53,3.53,0,0,1-2.8-1.78v-1.4a10.64,10.64,0,0,0,2.8.41ZM35.73,35.19l9-2.73a5.76,5.76,0,0,0,9.58,0l9,2.73a4.13,4.13,0,0,1,3,4V49H60.65V39.21h-2.8V49H41.11V39.21H38.32V49H32.73V39.18a4.12,4.12,0,0,1,3-4ZM25.26,49a6.46,6.46,0,0,1,4.6,1.91l.65.65.2.1a3.64,3.64,0,0,1,2,3.27V56H31.57a25.64,25.64,0,0,1-8.19-1.33l-.54-.17L22,54.9a10.7,10.7,0,0,1-3.27,1v-.38A6.53,6.53,0,0,1,25.26,49Zm3.27,22a3.53,3.53,0,0,1-2.79,1.8,3.6,3.6,0,0,1-2.8-1.8v-1.4a10.83,10.83,0,0,0,2.8.41,10.56,10.56,0,0,0,2.79-.41Zm-2.79-3.79a7,7,0,0,1-7-7V58.72A13.16,13.16,0,0,0,23,57.49a29,29,0,0,0,8.53,1.3h1.16v1.39a7,7,0,0,1-7,7Zm-8.43-2a9.88,9.88,0,0,0,2.83,3.07V70h-.23a8.15,8.15,0,0,1-4.74-1.54,14.33,14.33,0,0,0,2.14-3.3Zm25.2,14.56V89.5H36.92V79.72h-2.8V89.5H17.35V79.72h-2.8V89.5H9V79.69a4.12,4.12,0,0,1,3-4L21,73a6.07,6.07,0,0,0,4.78,2.53A6,6,0,0,0,30.51,73l9,2.7a4.11,4.11,0,0,1,3,4Zm-6.2-11.26A8.06,8.06,0,0,1,31.57,70h-.24V68.2a9.89,9.89,0,0,0,2.86-3.11,14.63,14.63,0,0,0,2.12,3.34ZM66.24,57.32a13.21,13.21,0,0,0,4.3-1.23l2.21.75a11.53,11.53,0,0,0,3.41.55h.41a10.25,10.25,0,0,0,3.65-.65v3.44a7,7,0,0,1-7,7H73a6.74,6.74,0,0,1-6.75-6.75ZM73,70h.21A9.79,9.79,0,0,0,76,69.53V71a3.08,3.08,0,0,1-5.6,0V69.59A9.11,9.11,0,0,0,73,70ZM90,89.5H84.41V79.72H81.62V89.5H64.84V79.72H62.05V89.5H56.46V79.69a4.15,4.15,0,0,1,3-4l9-2.7A5.76,5.76,0,0,0,78,73l9,2.7a4.15,4.15,0,0,1,3,4Z" />
                        <rect class="cls-3" x="34.81" y="24.62" width="2.8" height="2.8" transform="translate(-8.16 21.59) rotate(-30)" />
                        <rect class="cls-3" x="29.32" y="28.85" width="2.8" height="2.8" transform="translate(-12.39 30.58) rotate(-45)" />
                        <rect class="cls-3" x="25.09" y="34.34" width="2.8" height="2.8" transform="translate(-17.71 40.8) rotate(-60)" />
                        <polygon class="cls-3" points="22.16 43.14 22.87 40.41 25.57 41.16 24.85 43.85 22.16 43.14" />
                        <rect class="cls-3" x="48.1" y="74.16" width="2.8" height="2.76" />
                        <polygon class="cls-3" points="73.4 41.16 76.09 40.41 76.84 43.14 74.12 43.85 73.4 41.16" />
                        <rect class="cls-3" x="71.08" y="34.34" width="2.8" height="2.8" transform="matrix(0.87, -0.5, 0.5, 0.87, -8.16, 41.03)" />
                        <rect class="cls-3" x="66.85" y="28.85" width="2.8" height="2.8" transform="translate(-1.4 57.12) rotate(-45)" />
                        <rect class="cls-3" x="61.37" y="24.62" width="2.8" height="2.8" transform="translate(8.84 67.36) rotate(-60)" />
                        <rect class="cls-3" x="48.1" y="54.59" width="2.8" height="16.77" />
                        <rect class="cls-3" x="53.66" y="54.59" width="2.8" height="2.8" />
                        <rect class="cls-3" x="53.66" y="60.18" width="2.8" height="11.18" />
                        <rect class="cls-3" x="42.51" y="54.59" width="2.8" height="2.8" />
                        <rect class="cls-3" x="42.51" y="60.18" width="2.8" height="11.18" />
                    </svg>*@
                </div>


                <div class="col-xl-2 ml-4 margin-lr-30px pt-2">
                    <a href="/Home/UserSubscriptions">
                        <div class="card custom-card" style="width: 12.5rem;">
                            <div class="backgroundEffect"></div>
                            <img src="../assets/img/Subscrptions.png" class="card-img-top" alt="...">
                            <div class="card-body text-center">
                                <h6 class="card-title">@Resources.General.Plans</h6>
                                <p class="card-text">@Resources.General.ViewSubscriptions</p>

                            </div>
                        </div>
                    </a>
                </div>
                <div class="col-xl-2 ml-4 margin-lr-30px pt-2">
                    <a href="/Home/Updates">
                        <div class="card custom-card" style="width: 12.5rem;">
                            <div class="backgroundEffect"></div>
                            <img src="../assets/img/Updates.png" class="card-img-top" alt="...">
                            <div class="card-body text-center">
                                <h6 class="card-title">@Resources.General.Updates</h6>
                                <p class="card-text">@Resources.General.ViewUpdates</p>

                            </div>
                        </div>
                    </a>
                </div>
                <div class="col-xl-2 ml-4 margin-lr-30px pt-2">
                    <a href="/Home/UserProfile">
                        <div class="card custom-card active-card" style="width: 12.5rem;">
                            <div class="backgroundEffect"></div>
                            <img src="../assets/img/CompanyProfile.png" class="card-img-top" alt="...">
                            <div class="card-body text-center">
                                <h6 class="card-title">@Resources.General.Profile</h6>
                                <p class="card-text">@Resources.General.ViewProfile</p>

                            </div>
                        </div>
                    </a>
                </div>
            </div>
            <div class="col-4"></div>
            <div class="col-4">
                <h3 class="font-weight-700 text-capitalize page-title-tech">Regsiter</h3>
            </div>
            <div class="col-4"></div>
        </div>
    </div>
</div>
<!-- Page title --->

<section class="padding-tb-10px" dir="@dir">
    <div class="container">

        <div class="card @Text_Align">
            <h5 class="card-header">@Resources.General.Profile</h5>
            <div class="card-body">
                <div class="text-center">
                    <p class="card-title">@Resources.General.Company</p>
                    <hr />
                    <div class="row text-center">
                        <div class="col-lg-12">
                            <div>
                                <h5 class="card-text">
                                    @if (isArabic)
                                    {
                                        if (Model.NameAr != "" && Model.NameAr != null)
                                        {<text>@Model.NameAr / </text>}<text>@Model.Name</text>
                                    }
                                    else
                                    {<text>@Model.Name</text>
                                    if (Model.NameAr != "" && Model.NameAr != null)
                                    {<text> / @Model.NameAr</text>}
                            }
                                </h5>
                            </div>
                            <div>
                                @foreach (Country country in Model.Countries)
                                {
                                    if (country.Id == Model.CompanyId)
                                    {
                                        countryCode = "https://flagcdn.com/w320/" + country.CountryCode.ToLower() + ".png";
                                        if (isArabic)
                                        {
                                            countryName = country.NameAr;
                                            @country.NameAr
                                        }
                                        else
                                        {
                                            countryName = country.Name;
                                            @country.Name
                                        }
                                    }

                                }
                                <img id="flagimgShow" width="26" height="20" src="@countryCode" alt="@countryName">
                            </div>
                        </div>
                    </div>
                </div>
                <hr />
                <div class="row">
                    <div class="col-lg-6">
                        <div class="row">
                            <p class="card-text">@Resources.General.Industry</p>
                            <h5 class="card-title @auto_margin">
                                @foreach (Industry industry in Model.Industries)
                                {

                                    if (industry.Id == Model.IndustryId)
                                    {
                                        if (isArabic)
                                        {
                                            @industry.NameAr
                                        }
                                        else
                                        {

                                            @industry.Name

                                        }
                                    }
                                }
                            </h5>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="row">
                            <p class="card-text">@Resources.General.NumberOfEmployees</p>
                            <h5 class="card-title @auto_margin">
                                @if (isArabic)
                                {
                                    foreach (KeyValuePair<int, string> item in (new HumanResourceHelth.Model.NumberOfEmployeesAr()).EmployeesAr)
                                    {
                                        if (item.Key == Model.NumberOFEmployees)
                                        {
                                            @item.Value}
                                    }
                                }
                                else
                                {
                                    foreach (KeyValuePair<int, string> item in (new HumanResourceHelth.Model.NumberOfEmployees()).Employees)
                                    {
                                        if (item.Key == Model.NumberOFEmployees)
                                        {
                                            @item.Value}
                                    }
                                }
                            </h5>
                        </div>

                    </div>

                </div>
                <div class="row">
                    <div class="col-lg-3">
                        <div class="row">
                            <p class="card-text">@Resources.General.ContactPerson</p>
                            <h5 class="card-title @auto_margin">
                                @Model.ContactPerson
                            </h5>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="row">
                            <p class="card-text">@Resources.General.Email</p>
                            <h5 class="card-title @auto_margin"> @Model.Email</h5>
                        </div>

                    </div>
                    <div class="col-lg-3">
                        <div class="row">
                            <p class="card-text">@Resources.General.ContactInformation</p>
                            <h5 class="card-title @auto_margin">
                                @Model.ContactInformation
                            </h5>
                        </div>
                    </div>
                </div>
                <hr />
                <div class="row text-center padding-bottom-15px">
                    <div class="col-lg-6">
                        <button id="btnEditUserProfile" class="btn btn-info">@Resources.General.Edit <i class="fa fa-edit"></i></button>
                    </div>
                    <div class="col-lg-6">
                        <button id="btnUserPassword" class="btn btn-warning">@Resources.General.ChangePassword <i class="fa fa-lock"></i></button>
                    </div>
                </div>


                <div class="container" id="divEditUserProfile" style="display:none">
                    <div class="row justify-content-md-center">
                        <div class="col-lg-8 text-uppercase">
                            <form autocomplete="off">
                                <input autocomplete="off" name="hidden" type="text" style="display:none;">
                                <input type="text" style="display:none">
                                <input type="password" style="display:none">

                                <div class="form-group">
                                    <div class="row">
                                        <div class="col">
                                            <label class="@labAlign">@Resources.General.Company @Resources.General.InEnglish</label>
                                            <input id="txtName" type="text" maxlength="255" value="@Model.Name" required class="form-control" placeholder="@Resources.General.Company" />
                                        </div>
                                        <div class="col">
                                            <label class="@labAlign">@Resources.General.Company @Resources.General.InArabic</label>
                                            <input id="txtNameAr" type="text" maxlength="255" value="@Model.Name" required class="form-control" placeholder="@Resources.General.Company" />
                                        </div>
                                        <div class="col">
                                            <label class="@labAlign">@Resources.General.Email</label>
                                            <input autocomplete="off" required id="txtEmail" type="email" value="@Model.Email" class="form-control" placeholder="@Resources.General.Email" required />
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="row">
                                        <div class="col-lg-12">
                                            <label class="@labAlign">@Resources.General.Country</label>
                                            <select id="selectCountry" required class="form-control col-lg-6">
                                                <option value="">أختر الدولة</option>
                                                @foreach (Country country in Model.Countries)
                                                {
                                                    selected = "";
                                                    if (Model.CompanyId == country.Id) { selected = "selected"; }
                                                    if (isArabic)
                                                    {
                                                        <option value="@country.CountryCode" @selected>@country.NameAr</option>
                                                    }
                                                    else
                                                    {
                                                        <option value="@country.CountryCode" @selected>@country.Name</option>
                                                    }
                                                }
                                            </select>
                                        </div>

                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="row">
                                        <div class="col-lg-12">
                                            <label class="@labAlign">@Resources.General.Industry</label>
                                            <select id="selectIndustry" required class="form-control">
                                                @foreach (Industry industry in Model.Industries)
                                                {
                                                    selected = "";
                                                    if (Model.IndustryId == industry.Id) { selected = "selected"; }
                                                    if (isArabic)
                                                    {
                                                        <option value="@industry.Id" @selected>@industry.NameAr</option>
                                                    }
                                                    else
                                                    {
                                                        <option value="@industry.Id" @selected>@industry.Name</option>
                                                    }
                                                }
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="row">
                                        <div class="col">
                                            <label class="@labAlign">@Resources.General.NumberOfEmployees</label>
                                            <select id="employees" required class="form-control">
                                                @if (isArabic)
                                                {
                                                    foreach (KeyValuePair<int, string> item in (new HumanResourceHelth.Model.NumberOfEmployeesAr()).EmployeesAr)
                                                    {
                                                        selected = "";
                                                        if (Model.NumberOFEmployees == item.Key) { selected = "selected"; }
                                                        <option value="@item.Key" @selected>@item.Value</option>
                                                    }
                                                }
                                                else
                                                {
                                                    foreach (KeyValuePair<int, string> item in (new HumanResourceHelth.Model.NumberOfEmployees()).Employees)
                                                    {
                                                        selected = "";
                                                        if (Model.NumberOFEmployees == item.Key) { selected = "selected"; }
                                                        <option value="@item.Key" @selected>@item.Value</option>
                                                    }
                                                }
                                            </select>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="row">
                                        <div class="col">
                                            <label class="@labAlign">@Resources.General.ContactInformation</label>
                                            <div class="input-group" dir="ltr">
                                                <span class="input-group-addon" id="flage"><img id="flagimg" width="26" height="20" src="https://flagcdn.com/w320/om.png" /></span>
                                                <span class="input-group-addon" id="countryPhoneKey" data-target="#exampleModal">dd</span>
                                                <input id="txtInformation" type="number" maxlength="255" value="@Model.ContactInformation" required class="form-control" placeholder="@Resources.General.ContactInformation" />
                                            </div>
                                        </div>
                                        <div class="col">
                                            <label class="@labAlign">@Resources.General.ContactPerson</label>
                                            <input id="txtPerson" class="form-control" value="@Model.ContactPerson" placeholder="@Resources.General.ContactPerson" />
                                        </div>
                                    </div>
                                </div>
                                <div class="padding-bottom-22px text-center"><button type="button" id="btnUpdateProfile" class="btn btn-sm background-main-color text-white padding-lr-15px border-0 opacity-8">@Resources.General.Update</button></div>
                            </form>
                        </div>
                    </div>
                </div>
                <div class="container" id="divChangePassword" style="display:none">
                    <div class="row justify-content-md-center">
                        <div class="col-lg-8 text-uppercase">

                            <div class="form-group">
                                <div class="row">

                                    <div class="col">
                                        <label>@Resources.General.Email</label>
                                        <input disabled autocomplete="off" id="txtEmailChangePass" type="email" value="@Model.Email" class="form-control" placeholder="@Resources.General.Email" required />
                                    </div>
                                </div>
                            </div>


                            <div class="form-group">
                                <div class="row">
                                    <div class="col">
                                        <label>@Resources.General.OldPassword</label>
                                        <div class="input-group" dir="ltr">
                                            <span btn="btnoldPasswordEye" class="input-group-addon" onclick="showPss('txtOldPassword','Ioldpass')"><i id="Ioldpass" class="fa fa-eye-slash"></i></span>
                                            <input id="txtOldPassword" type="password" class="form-control" placeholder="@Resources.General.OldPassword" autocomplete="off">
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <label>@Resources.General.Password</label>
                                        <div class="input-group" dir="ltr">
                                            <span class="input-group-addon"> <i id="Newpass" class="fa fa-eye-slash" onclick="showPss('txtPassword','Newpass')"></i></span>
                                            <input id="txtPassword" type="password" class="form-control" placeholder="@Resources.General.Password">
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <label>@Resources.General.ConfirmPassword</label>
                                        <div class="input-group" dir="ltr">
                                            <span class="input-group-addon"> <i id="ConfirmPassword" class="fa fa-eye-slash" onclick="showPss('txtConfirmPassword','ConfirmPassword')"></i></span>
                                            <input id="txtConfirmPassword" type="password" class="form-control" placeholder="@Resources.General.ConfirmPassword">
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="padding-bottom-22px text-center"><button type="button" id="btnSavePassword" class="btn btn-sm background-main-color text-white padding-lr-15px border-0 opacity-8">@Resources.General.Save</button></div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
        @*<div class="row justify-content-md-center padding-tb-20px">
            <div class="btn btn-primary text-white padding-left-10px padding-right-10px"> @Html.ActionLink(Resources.General.ChangePassword, "ChangePassword")</div>
            <div class="col-4"></div>
            <div class="btn btn-primary text-white padding-left-10px padding-right-10px"> @Html.ActionLink(Resources.General.Plans, "UserSubscriptions")</div>
        </div>*@

    </div>
</section>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/css/select2.min.css" />
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/js/select2.min.js"></script>
<script type="text/javascript">
    $(function () {
        $("#selectCountry").select2();
    });
    $(function () {
        $("#selectIndustry").select2();
    });
</script>
<script>
    function showPss(control,id) {
        // console.log($('.fa-eye-slash').attr('class'));
        if ($('#' + id).hasClass('fa-eye-slash')) {
            $('#' + id).addClass('fa-eye');
            $('#' + id).removeClass('fa-eye-slash');
            $('#' + control).attr('type', 'text');
        }
        else {
            $('#' + id).addClass('fa-eye-slash');
            $('#' + id).removeClass('fa-eye');
            $('#' + control).attr('type', 'password');
        }

    }

    $('#txtInformation').change(function () {

        var code = $('#countryPhoneKey').html();
        var phone=code + $(this).val();
        $.ajax({
            type: 'GET',
            url: 'https://phonevalidation.abstractapi.com/v1/?api_key=af9830b65308460f8d8ff43f9e9f879a&phone=' + phone,
            success: function (data) {
                if (data['valid']) {
                    if (!$('#txtInformation').hasClass('is-valid')) {
                        $('#txtInformation').addClass('is-valid');
                        if ($('#txtInformation').hasClass('is-invalid'))
                            $('#txtInformation').removeClass('is-invalid');
                    }
                }
                else {
                    if (!$('#txtInformation').hasClass('is-invalid')) {
                        $('#txtInformation').addClass('is-invalid');
                        if ($('#txtInformation').hasClass('is-valid'))
                            $('#txtInformation').removeClass('is-valid');
                    }
                }
            },
            error: function (data) {
                console.log("there is an error");
                //console.log(data);
            }
        });
    });
    $('#SetCountryCode').click(function () {

        var Code = $('#txtCountryCode').val();
        $.ajax({
            type: 'get',
            url: 'https://restcountries.eu/rest/v2/callingcode/' + Code ,
            success: function (data) {
                // console.log(data);
                if (data.length > 0) {
                    var stringified = JSON.stringify(data);
                    var parsedObj = JSON.parse(stringified);
                    $('#countryPhoneKey').html(parsedObj[0]['callingCodes']);

                    $('#flagimg').attr('src', parsedObj[0]['flag']);
                    $('#flagimg').attr('alt', parsedObj[0]['name']);
                } else {

                }

            },
            error: function (data) {
                $('#countryPhoneKey').html('Double Click Here');

                $('#flagimg').attr('src', 'None');
                $('#flagimg').attr('alt', 'Not Availabel');
            }

        });
    });
    $('#countryPhoneKey').dblclick(function () {
        $('#exampleModal').modal('toggle');
    });
    $("#btnRegister").on("click", function () {
        //debugger;
        var name = $("#txtName").val();
        var nameAr = $("#txtNameAr").val();
        var country = $("#selectCountry").val();
        var industry = $("#selectIndustry").val();
        var employees = $("#employees").val();
        var information = $("#txtInformation").val();
        var person = $("#txtPerson").val();
        var email = $("#txtEmail").val();
        var password = $("#txtPassword").val();
        var confirmPassword = $("#txtConfirmPassword").val();


        if (name == "") {
            toastr.error("@Resources.General.RequiredCompanyName")
            return;
        }

        if (email== "") {
            toastr.error("@Resources.General.RequiredEmail")
            return;
        }

        if (password == "") {
            toastr.error("@Resources.General.RequiredPassword")
            return;
        }

        if (information == "") {
            toastr.error("@Resources.General.RequiredPhone")
            return;
        }

        if (password != confirmPassword) {
            toastr.error("@Resources.General.PasswordMissmatch");
            return;
        }

        $.ajax({
            url: "@Url.Action("Save", "Login")",
            data: {
                "Name": name, "NameAr" : nameAr, "Email": email, "Password": password, "ContactInformation": information, "ContactPerson": person,
                "CountryId": country, "IndustryId": industry, "NumberOfEmployees": employees
            },
            type: "POST",
            sync: false,
            success: function () {
                toastr.success("@Resources.General.Registered")
                window.location = "@Url.Action("Index","Login")"
            },
            error: function (err, status, error) {
                debugger;
                toastr.error(err.statusText)
            },

        });
    });
</script>
<script>
    $("#btnUpdateProfile").on("click", function () {

        var name = $("#txtName").val();
        var nameAr = $("#txtNameAr").val();
        var country = $("#selectCountry").val();
        var industry = $("#selectIndustry").val();
        var employees = $("#employees").val();
        var information = $("#txtInformation").val();
        var person = $("#txtPerson").val();
        var email = $("#txtEmail").val();



        if (name == "") {
            toastr.error("Please Enter Company Name")
            return;
        }

        if (email== "") {
            toastr.error("Please Enter Email")
            return;
        }



        $.ajax({
            url: "@Url.Action("SaveProfile", "Home")",
            data: {
                "Name": name, "NameAr": nameAr, "Email": email,  "ContactInformation": information, "ContactPerson": person,
                "CountryIdxx": country, "IndustryId": industry, "NumberOfEmployees": employees
            },
            type: "POST",
            sync: false,
            success: function () {
                toastr.success('@Resources.General.SavedSuccessffuly');
                 $("#divEditUserProfile").toggle("slow", function () {
            $("#btnEditUserProfile").html($("#divEditUserProfile").css("display") == "none" ? "@Resources.General.Edit <i class='fa fa-edit'></i>" : "@Resources.General.Cancel <i class='fa fa-backward'></i>");
                     $("#btnUserPassword").attr("disabled", $("#divEditUserProfile").css("display") == "none" ? false : true);
                 });
                location.reload();
            },
            error: function (err, status, error) {
                debugger;
                toastr.error(err.statusText)
            },

        });
    });
    $("#btnEditUserProfile").on("click", function () {
        $("#divEditUserProfile").toggle("slow", function () {
            $("#btnEditUserProfile").html($("#divEditUserProfile").css("display") == "none" ? "@Resources.General.Edit <i class='fa fa-edit'></i>" : "@Resources.General.Cancel <i class='fa fa-backward'></i>");
        $("#btnUserPassword").attr("disabled", $("#divEditUserProfile").css("display") == "none" ? false : true);});

    });
    $("#btnUserPassword").on("click", function () {
        $("#divChangePassword").toggle("slow", function () {

            $("#btnUserPassword").html($("#divChangePassword").css("display") == "none" ? "@Resources.General.ChangePassword <i class='fa fa-lock'></i>" : "@Resources.General.Cancel <i class='fa fa-backward'></i>");
        $("#btnEditUserProfile").attr("disabled", $("#divChangePassword").css("display") == "none" ? false : true);});

    });


    function showPss(control, id) {
        let eyeContainer = $('#' + id);

        if (eyeContainer[0].classList.contains("fa-eye-slash")) {

            eyeContainer[0].classList.add('fa-eye');
            eyeContainer[0].classList.remove('fa-eye-slash');
            $('#' + control).attr('type', 'text');
        }
        else {

            eyeContainer[0].classList.add('fa-eye-slash');
            eyeContainer[0].classList.remove('fa-eye');
            $('#' + control).attr('type', 'password');
        }

    }
      $("#btnSavePassword").on("click", function () {


          var email = $("#txtEmailChangePass").val();
        var password = $("#txtPassword").val();
        var oldpassword = $("#txtOldPassword").val();
        var confirmPassword = $("#txtConfirmPassword").val();



        if (email== "") {
            toastr.error("Please Enter Email")
            return;
        }
        if (oldpassword == "") {
            toastr.error("Please Enter Current Password")
            return;
        }
        if (password == "") {
            toastr.error("Please Enter New Password")
            return;
        }

        if (password != confirmPassword) {
            toastr.error("Password not Identical with Confirm Password");
            return;
        }

        $.ajax({
            url: "@Url.Action("SavePassword", "Home")",
            data: {
                "Email": email, "Password": password, "OldPassword": oldpassword

            },
            type: "POST",
            sync: false,
            success: function () {
                toastr.success('@Resources.General.SavedSuccessffuly');
                 $("#divChangePassword").toggle("slow", function () {

            $("#btnUserPassword").html($("#divChangePassword").css("display") == "none" ? "@Resources.General.ChangePassword <i class='fa fa-lock'></i>" : "@Resources.General.Cancel <i class='fa fa-backward'></i>");
                     $("#btnEditUserProfile").attr("disabled", $("#divChangePassword").css("display") == "none" ? false : true);
                 });
                location.reload();
            },
            error: function (err, status, error) {

                toastr.error(err.statusText)
            },

        });
    });
</script>



